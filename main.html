<!DOCTYPE html>
<html>
<head>
<style>
.myCanvas
{
cursor:crosshair;
}
</style>
</head>

<body>

<canvas id="myCanvas" class="myCanvas" width="900" height="500" style="border:1px solid #d3d3d3;" align="center">
</canvas>

<script>
var score=0;
var level=1;
var init_time=new Date();

var c=document.getElementById("myCanvas");
var ctx=c.getContext("2d");
var mx=252,my=250;
window.addEventListener('mousemove', function(evt) 
       {   
           mx= evt.clientX; 
           my= evt.clientY ;
		   
		    ctx.beginPath();
		ctx.fillStyle="#33FFFF";
		ctx.arc(mx-15,my+5,5,0,2*Math.PI);
		ctx.closePath();
		ctx.fill();
           		
        score+=0.05;				
 
       }, false);
	   

var x=new Array();
var y=new Array();
var r=new Array();
var n=0;


function newdot()
{
   var rnd=Math.floor(Math.random()*10);
   if(rnd%2==0)
   {
   var tx=Math.floor(Math.random()*100)+800;
   var ty=Math.floor(Math.random()*500)-Math.floor(Math.random()*300);
   var tr=Math.floor(Math.random()*3)+3;
   ctx.beginPath();
   ctx.arc(tx,ty,tr,0,2*Math.PI);
   ctx.stroke();
   x[n]=tx;
   y[n]=ty;
   r[n]=tr;
   
   n++;
   }
   else
   {
    var tx=Math.floor(Math.random()*800);
   var ty=0-Math.floor(Math.random()*300);
   var tr=Math.floor(Math.random()*3)+3;
   ctx.beginPath();
   ctx.arc(tx,ty,5,0,2*Math.PI);
   ctx.stroke();
   x[n]=tx;
   y[n]=ty;
   r[n]=tr;
   n++;
   
   }
}

addEventListener("keypress", function(event){
    newdot();
  });
	   
tt=setInterval(draw,10);
dd=setInterval(newdot,350);

function draw()
{
   //ctx.clearRect(0,0,700,500);
   ctx.fillStyle="#1E1E14";
   ctx.fillRect(0,0,900,500);
   var i=0;
   for(i=0;i<n;i++)
   {  
	   x[i]--;	 
	   y[i]++;	 
	 
	 ctx.beginPath();
	 ctx.fillStyle="#FF0000";
     ctx.arc(x[i],y[i],r[i],0,2*Math.PI);
	 ctx.closePath();
	 ctx.fill();
  
   }
       ctx.beginPath();
		ctx.fillStyle="#33FFFF";
		ctx.arc(mx-18,my+5,5,0,2*Math.PI);
		ctx.closePath();
		ctx.fill();
    
	
	     ctx.font = '12pt Calibri';
        ctx.fillStyle = '#949B9B';
		var curr_time=new Date();
		var diff= (curr_time.getTime() - init_time.getTime())/1000;
        ctx.fillText("Level: "+level+" Score:"+Math.floor(score)+"  Time: "+diff,350,20);
		
		score+=0.05;
		
	check();
  
}

function check()
{

  for(i=0;i<n;i++)
  {
    if(x[i]> (mx-18-5)-r[i] && x[i]< (mx-18+5)+r[i]  && y[i]>(my-r[i]) && y[i]< (my+5+5)+r[i])
	alert("Game over");
	

  }
  if(mx-18-5 <0 || mx-18+5>900 || my+5+5>500 || my-5<0)
  {
    alert("Game over");
  
  }

} 
	   
</script> 

</body>
</html>
